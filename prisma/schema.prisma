// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("CONNECTION_URL")
  shadowDatabaseUrl = env("SHOWDOW_DB_URL")
}

enum Status {
    Active
    Inactive
    Pending
  }
  
  enum Origin {
    User
    System
  }
  

model users {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String   @db.VarChar(20)
  username  String   @db.VarChar(255)
  contact   Int  
  password  String   @db.VarChar(200)
  address   String   @db.VarChar(200)
  isAdmin   Boolean   
  status    Status
  createdOn DateTime @db.Date @default(now()) 
}
model bodyParts {
  id                Int      @id @default(autoincrement())
  name              String
  createdOn         DateTime  @default(now())
}

model program {
  id        Int      @id @default(autoincrement())
  name      String
  userId    Int
  wokrouts  workout[]
  createdOn DateTime @default(now())
  status    Status   @default(Active)
}

model workout {
  id          Int      @id @default(autoincrement())
  name        String
  programId   Int
  programs    program  @relation(fields: [programId], references: [id])
  userId      Int
  exercise    workoutExerciseRelation[]
  createdOn   DateTime  @default(now())
}

model exercise {
  id                Int      @id @default(autoincrement())
  name              String
  bodyPartId        Int
  userId            Int
  origin            Origin
  createdOn         DateTime  @default(now())
}

model workoutExerciseRelation {
  id                Int      @id @default(autoincrement())
  exerciseId        Int
  workouts          workout  @relation(fields: [workoutId], references: [id])
  workoutId         Int
  weight            Int      @default(0)
  repetition        Int      @default(0)
  time              Int
  isDone            Boolean
  createdOn         DateTime  @default(now())
}
